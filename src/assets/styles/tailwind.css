@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== 全局基礎樣式 ========== */
@layer base {
  :root {
    /* ===== 尺寸變數 ===== */
    --sidebar-main-width: 5rem;
    --sidebar-secondary-width: 16rem;
    --sidebar-combined-width: 21rem;
    --transition-duration: 300ms;

    /* ===== 淺色模式配色（Gemini 風格） ===== */
    --bg-primary: #fcfcf9;
    --bg-secondary: #f3f3ee;
    --bg-tertiary: #e5e5de;

    --text-primary: #252525;
    --text-secondary: #5f5f5f;
    --text-tertiary: #979797;

    --border-primary: #e5e7eb;
    --border-secondary: #d1d5db;

    /* ===== 農會綠 ===== */
    --primary: #00ad68;
    --primary-hover: #008a53;
    --primary-light: rgba(0, 173, 104, 0.2);
  }

  /* ===== 深色模式配色 ===== */
  .dark {
    --bg-primary: #191a1a;
    --bg-secondary: #1f2121;
    --bg-tertiary: #2a2e2d;

    --text-primary: #f3f4f6;
    --text-secondary: #9ca3af;
    --text-tertiary: #6b7280;

    --border-primary: #323434;
    --border-secondary: #313535;

    --primary: #00ad68;
    --primary-hover: #008a53;
    --primary-light: rgba(0, 173, 104, 0.2);
  }

  /* ===== HTML 根元素 ===== */
  html {
    height: 100%;
    scroll-behavior: smooth;
  }

  /* ===== Body 全局樣式 ===== */
  body {
    height: 100%;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
      "Helvetica Neue", Arial, "Google Sans", sans-serif;
  }

  /* ===== 根容器 ===== */
  #app {
    height: 100%;
  }

  /* ===== 標題樣式 ===== */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 600;
    color: var(--text-primary);
  }

  /* ===== 連結樣式 ===== */
  a {
    color: var(--primary);
    transition: color 0.2s;
  }

  a:hover {
    color: var(--primary-hover);
  }

  /* ===== 選取文字樣式 ===== */
  /* ::selection {
    background-color: var(--primary-light);
    color: var(--primary);
  } */
}

/* ========== 自訂組件樣式 ========== */
@layer components {
  /* ===== 卡片樣式 ===== */
  .card {
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    padding: 1rem;
  }

  /* ===== 主要按鈕 ===== */
  .btn-primary {
    background-color: var(--primary);
    color: white;
    font-weight: 500;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    transition: background-color 0.2s;
    border: none;
    cursor: pointer;
  }

  .btn-primary:hover {
    background-color: var(--primary-hover);
  }

  /* ===== 次要按鈕 ===== */
  .btn-secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    font-weight: 500;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    transition: background-color 0.2s;
    border: none;
    cursor: pointer;
  }

  .btn-secondary:hover {
    background-color: var(--bg-tertiary);
  }

  /* ===== 輸入框樣式 ===== */
  .input {
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    border-radius: 0.5rem;
    padding: 0.5rem 1rem;
    transition: all 0.2s;
    width: 100%;
  }

  .input:focus {
    outline: 2px solid var(--primary);
    outline-offset: 0;
    border-color: transparent;
  }

  .input::placeholder {
    color: var(--text-tertiary);
  }

  /* ===== 側邊欄樣式 ===== */
  .sidebar {
    background-color: var(--bg-primary);
    border-right: 1px solid var(--border-primary);
  }

  /* ===== Gemini 風格訊息氣泡 ===== */
  .message-bubble-user {
    background-color: var(--primary-light);
    color: var(--text-primary);
    border-radius: 1rem;
    padding: 0.75rem 1rem;
  }

  .message-bubble-ai {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-radius: 1rem;
    padding: 0.75rem 1rem;
  }
}

/* ========== 自訂工具類別 ========== */
@layer utilities {
  /* ===== 側邊欄動畫 ===== */
  .sidebar-transition {
    transition: all var(--transition-duration) cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ===== 側邊欄尺寸 ===== */
  .w-sidebar-main {
    width: var(--sidebar-main-width);
  }

  .w-sidebar-secondary {
    width: var(--sidebar-secondary-width);
  }

  .ml-sidebar-main {
    margin-left: var(--sidebar-main-width);
  }

  .ml-sidebar-combined {
    margin-left: var(--sidebar-combined-width);
  }

  /* ===== 滾動條樣式 ===== */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background-color: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--border-secondary);
    border-radius: 9999px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--text-tertiary);
  }

  /* Firefox 滾動條 */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--border-secondary) transparent;
  }

  /* ===== 文字漸層效果 ===== */
  .text-gradient {
    background: linear-gradient(to right, var(--primary), #4285f4);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* ===== 玻璃擬態效果 ===== */
  .glass {
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    border: 1px solid var(--border-primary);
  }

  .dark .glass {
    background-color: rgba(13, 13, 13, 0.8);
  }

  /* ===== 柔和陰影 ===== */
  .shadow-soft {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .dark .shadow-soft {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }
}
